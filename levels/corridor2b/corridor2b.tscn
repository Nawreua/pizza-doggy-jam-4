[gd_scene format=3 uid="uid://dvv2rfaib46kk"]

[ext_resource type="Material" uid="uid://d2wuvwotxphge" path="res://assets/materials/wall_grey.tres" id="1_0hhuj"]
[ext_resource type="PackedScene" uid="uid://c65ovcsfy68bd" path="res://assets/models/door.glb" id="2_6ggwl"]
[ext_resource type="PackedScene" uid="uid://b4uvaw3j5s1um" path="res://assets/models/elevator.tscn" id="2_qjoyh"]
[ext_resource type="PackedScene" uid="uid://cx1t64q6n6hl6" path="res://scenes/player/player.tscn" id="3_75aiw"]
[ext_resource type="PackedScene" uid="uid://dxa8xtqr7xgxb" path="res://scenes/props/lights/spot_light_simple.tscn" id="4_l83in"]
[ext_resource type="PackedScene" uid="uid://bpd7ymb7nneuj" path="res://assets/models/chair.tscn" id="5_fb1am"]
[ext_resource type="PackedScene" uid="uid://cno4wp71jlixo" path="res://assets/models/wheelchair.tscn" id="5_qjoyh"]
[ext_resource type="PackedScene" uid="uid://c6qgbxwytntu0" path="res://assets/models/door.tscn" id="6_4xrjk"]
[ext_resource type="PackedScene" uid="uid://csik5uujsuj0w" path="res://scenes/enemies/guard/guard.tscn" id="7_fb1am"]
[ext_resource type="PackedScene" uid="uid://bn2icmswbhaq5" path="res://scenes/enemies/patient/patient.tscn" id="9_6kdt7"]

[sub_resource type="PlaneMesh" id="PlaneMesh_0hhuj"]
material = ExtResource("1_0hhuj")
size = Vector2(18, 3)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_0hhuj"]
data = PackedVector3Array(9, 0, 1.5, -9, 0, 1.5, 9, 0, -1.5, -9, 0, 1.5, -9, 0, -1.5, 9, 0, -1.5)

[sub_resource type="PlaneMesh" id="PlaneMesh_yh840"]
material = ExtResource("1_0hhuj")
size = Vector2(18, 3.25)
orientation = 2

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6ggwl"]
data = PackedVector3Array(9, -1.625, 0, -9, -1.625, 0, 9, 1.625, 0, -9, -1.625, 0, -9, 1.625, 0, 9, 1.625, 0)

[sub_resource type="PlaneMesh" id="PlaneMesh_6ggwl"]
material = ExtResource("1_0hhuj")
flip_faces = true
size = Vector2(18, 3.25)
orientation = 2

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_75aiw"]
data = PackedVector3Array(-9, -1.625, 0, 9, -1.625, 0, 9, 1.625, 0, -9, 1.625, 0, -9, -1.625, 0, 9, 1.625, 0)

[sub_resource type="PlaneMesh" id="PlaneMesh_75aiw"]
material = ExtResource("1_0hhuj")
flip_faces = true
size = Vector2(3.25, 3.25)
orientation = 0

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_l83in"]
data = PackedVector3Array(0, -1.625, 1.625, 0, -1.625, -1.625, 0, 1.625, -1.625, 0, 1.625, 1.625, 0, -1.625, 1.625, 0, 1.625, -1.625)

[sub_resource type="PlaneMesh" id="PlaneMesh_l83in"]
material = ExtResource("1_0hhuj")
flip_faces = true
size = Vector2(18, 3)

[sub_resource type="PlaneMesh" id="PlaneMesh_nhkeb"]
material = ExtResource("1_0hhuj")
size = Vector2(3, 24)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_4xrjk"]
data = PackedVector3Array(1.5, 0, 12, -1.5, 0, 12, 1.5, 0, -12, -1.5, 0, 12, -1.5, 0, -12, 1.5, 0, -12)

[sub_resource type="PlaneMesh" id="PlaneMesh_fb1am"]
material = ExtResource("1_0hhuj")
flip_faces = true
size = Vector2(3.25, 3.25)
orientation = 2

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_nhkeb"]
data = PackedVector3Array(-1.625, -1.625, 0, 1.625, -1.625, 0, 1.625, 1.625, 0, -1.625, 1.625, 0, -1.625, -1.625, 0, 1.625, 1.625, 0)

[sub_resource type="PlaneMesh" id="PlaneMesh_qjoyh"]
material = ExtResource("1_0hhuj")
size = Vector2(24, 3.25)
orientation = 0

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_fb1am"]
data = PackedVector3Array(0, -1.625, -12, 0, -1.625, 12, 0, 1.625, -12, 0, -1.625, 12, 0, 1.625, 12, 0, 1.625, -12)

[sub_resource type="PlaneMesh" id="PlaneMesh_6kdt7"]
material = ExtResource("1_0hhuj")
size = Vector2(3.25, 3.25)
orientation = 2

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_qjoyh"]
data = PackedVector3Array(1.625, -1.625, 0, -1.625, -1.625, 0, 1.625, 1.625, 0, -1.625, -1.625, 0, -1.625, 1.625, 0, 1.625, 1.625, 0)

[sub_resource type="PlaneMesh" id="PlaneMesh_4xrjk"]
material = ExtResource("1_0hhuj")
flip_faces = true
size = Vector2(23, 3.25)
orientation = 0

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6kdt7"]
data = PackedVector3Array(0, -1.625, 11.5, 0, -1.625, -11.5, 0, 1.625, -11.5, 0, 1.625, 11.5, 0, -1.625, 11.5, 0, 1.625, -11.5)

[sub_resource type="PlaneMesh" id="PlaneMesh_p414p"]
material = ExtResource("1_0hhuj")
flip_faces = true
size = Vector2(3, 24)

[node name="Corridor2b" type="Node3D" unique_id=170621927]

[node name="Walls" type="Node" parent="." unique_id=6259969]

[node name="Floor" type="MeshInstance3D" parent="Walls" unique_id=1222671048]
mesh = SubResource("PlaneMesh_0hhuj")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/Floor" unique_id=180455687]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/Floor/StaticBody3D" unique_id=1274699274]
shape = SubResource("ConcavePolygonShape3D_0hhuj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls" unique_id=573513705]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4985292, -1.495151)
mesh = SubResource("PlaneMesh_yh840")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D" unique_id=874106535]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D/StaticBody3D" unique_id=235630700]
shape = SubResource("ConcavePolygonShape3D_6ggwl")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Walls" unique_id=164372420]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.518667, 1.4875466)
mesh = SubResource("PlaneMesh_6ggwl")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D2" unique_id=1641145603]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D2/StaticBody3D" unique_id=230835254]
shape = SubResource("ConcavePolygonShape3D_75aiw")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Walls" unique_id=2120553872]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.995144, 1.4861695, 0)
mesh = SubResource("PlaneMesh_75aiw")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D3" unique_id=1427503443]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D3/StaticBody3D" unique_id=2010265474]
shape = SubResource("ConcavePolygonShape3D_l83in")

[node name="Ceiling" type="MeshInstance3D" parent="Walls" unique_id=1927970590]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
mesh = SubResource("PlaneMesh_l83in")

[node name="Floor2" type="MeshInstance3D" parent="Walls" unique_id=1060993241]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.493818, 0, -10.477509)
mesh = SubResource("PlaneMesh_nhkeb")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/Floor2" unique_id=1873353653]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/Floor2/StaticBody3D" unique_id=2089537859]
shape = SubResource("ConcavePolygonShape3D_4xrjk")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Walls" unique_id=687347478]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.379, 1.5132542, 1.488)
mesh = SubResource("PlaneMesh_fb1am")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D4" unique_id=475477333]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D4/StaticBody3D" unique_id=970329206]
shape = SubResource("ConcavePolygonShape3D_nhkeb")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Walls" unique_id=768874968]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.98099, 1.4684408, -10.51229)
mesh = SubResource("PlaneMesh_qjoyh")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D5" unique_id=727046143]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D5/StaticBody3D" unique_id=2102844114]
shape = SubResource("ConcavePolygonShape3D_fb1am")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="Walls" unique_id=177883779]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.523668, 1.5011275, -22.519026)
mesh = SubResource("PlaneMesh_6kdt7")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D6" unique_id=1622180577]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D6/StaticBody3D" unique_id=1381639909]
shape = SubResource("ConcavePolygonShape3D_qjoyh")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="Walls" unique_id=1264505931]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.989056, 1.4980226, -12.999182)
mesh = SubResource("PlaneMesh_4xrjk")

[node name="StaticBody3D" type="StaticBody3D" parent="Walls/MeshInstance3D7" unique_id=220808835]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/MeshInstance3D7/StaticBody3D" unique_id=1581133487]
shape = SubResource("ConcavePolygonShape3D_6kdt7")

[node name="Ceiling2" type="MeshInstance3D" parent="Walls" unique_id=856854864]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.494, 3, -10.478)
mesh = SubResource("PlaneMesh_p414p")

[node name="Props" type="Node" parent="." unique_id=917766844]

[node name="door" parent="Props" unique_id=1893736036 instance=ExtResource("2_6ggwl")]
transform = Transform3D(-0.5, 0, -4.371139e-08, 0, 0.5, 0, 4.371139e-08, 0, -0.5, 8.315367, 0, -0.19250262)

[node name="door2" parent="Props" unique_id=94729118 instance=ExtResource("2_6ggwl")]
transform = Transform3D(-0.5, 0, -4.371139e-08, 0, 0.5, 0, 4.371139e-08, 0, -0.5, 4.3335605, 0, -0.19250262)

[node name="door3" parent="Props" unique_id=1606158229 instance=ExtResource("2_6ggwl")]
transform = Transform3D(-0.5, 0, -4.371139e-08, 0, 0.5, 0, 4.371139e-08, 0, -0.5, 0.33676338, 0, -0.19250262)

[node name="door4" parent="Props" unique_id=646634178 instance=ExtResource("2_6ggwl")]
transform = Transform3D(-0.5, 0, -4.371139e-08, 0, 0.5, 0, 4.371139e-08, 0, -0.5, -3.7092106, 0, -0.19250262)

[node name="door5" parent="Props" unique_id=431904221 instance=ExtResource("2_6ggwl")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 4.4658656, 0, 0.18246949)

[node name="door6" parent="Props" unique_id=1885374883 instance=ExtResource("2_6ggwl")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0.48405933, 0, 0.18246949)

[node name="door7" parent="Props" unique_id=728029351 instance=ExtResource("2_6ggwl")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -3.5127378, 0, 0.18246949)

[node name="door8" parent="Props" unique_id=89227635 instance=ExtResource("2_6ggwl")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -7.558712, 0, 0.18246949)

[node name="chair2" parent="Props" unique_id=2090081282 instance=ExtResource("5_fb1am")]
transform = Transform3D(-0.33931702, 0, -0.36723828, 0, 0.5, 0, 0.36723828, 0, -0.33931702, 0.2915616, 0.43898627, 1.1850405)

[node name="chair" parent="Props" unique_id=1806697545 instance=ExtResource("5_fb1am")]
transform = Transform3D(0.37792102, 0, -0.327377, 0, 0.5, 0, 0.327377, 0, 0.37792102, -9.68113, 0.43898743, -20.764883)

[node name="wheelchair2" parent="Props" unique_id=500139668 instance=ExtResource("5_qjoyh")]
transform = Transform3D(0.43516496, 0, 0.24623455, 0, 0.5, 0, -0.24623455, 0, 0.43516496, -4.7871375, 0.6337005, -1.1804316)

[node name="elevator" parent="Props" unique_id=1634464330 instance=ExtResource("2_qjoyh")]
transform = Transform3D(-2.1855694e-08, 0, -0.5, 0, 0.5, 0, 0.5, 0, -2.1855694e-08, -9.197418, 0.008288622, -13.784207)

[node name="chair3" parent="Props" unique_id=878597953 instance=ExtResource("5_fb1am")]
transform = Transform3D(0.32898343, 0, 0.37652344, 0, 0.5, 0, -0.37652344, 0, 0.32898343, -11.103792, 0.4389875, -9.027962)

[node name="door9" parent="Props" unique_id=678815111 instance=ExtResource("6_4xrjk")]
transform = Transform3D(-2.1855694e-08, 0, -0.5, 0, 0.5, 0, 0.5, 0, -2.1855694e-08, -9.022962, 1.3994005, -18.803722)

[node name="Player" parent="." unique_id=798795127 instance=ExtResource("3_75aiw")]
transform = Transform3D(0.63883495, 0, 0.7693438, 0, 1, 0, -0.7693438, 0, 0.63883495, 2.4123077, 0.16431761, 0.81243026)

[node name="Lights" type="Node" parent="." unique_id=21100854]

[node name="SpotLight3D" parent="Lights" unique_id=83524157 instance=ExtResource("4_l83in")]
transform = Transform3D(1, 0, 0, 0, 0.009983092, 0.9999502, 0, -0.9999502, 0.009983092, 0.37995553, 2.9247742, 0)

[node name="SpotLight3D2" parent="Lights" unique_id=497191399 instance=ExtResource("4_l83in")]
transform = Transform3D(1, 0, 0, 0, 0.009983092, 0.9999502, 0, -0.9999502, 0.009983092, 6.443967, 2.9247742, 0)

[node name="SpotLight3D3" parent="Lights" unique_id=326003954 instance=ExtResource("4_l83in")]
transform = Transform3D(1, 0, 0, 0, 0.009983092, 0.9999502, 0, -0.9999502, 0.009983092, -5.5888042, 2.9247742, 0)

[node name="SpotLight3D4" parent="Lights" unique_id=1146342036 instance=ExtResource("4_l83in")]
transform = Transform3D(1, 0, 0, 0, 0.009983092, 0.9999502, 0, -0.9999502, 0.009983092, -10.42477, 2.9247742, -3.9504066)

[node name="SpotLight3D5" parent="Lights" unique_id=1556227645 instance=ExtResource("4_l83in")]
transform = Transform3D(1, 0, 0, 0, 0.009983092, 0.9999502, 0, -0.9999502, 0.009983092, -10.42477, 2.9247742, -12.0023575)

[node name="SpotLight3D6" parent="Lights" unique_id=20096126 instance=ExtResource("4_l83in")]
transform = Transform3D(1, 0, 0, 0, 0.009983092, 0.9999502, 0, -0.9999502, 0.009983092, -10.42477, 2.9247742, -19.920664)

[node name="OmniLight3D" type="OmniLight3D" parent="Lights" unique_id=1471924945]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.6292925, 2.743043, -15.277873)
light_color = Color(0.003921569, 0.59607846, 0.2509804, 1)
omni_range = 1.0

[node name="Guard" parent="." unique_id=491004259 instance=ExtResource("7_fb1am")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.798763, 0.04810989, -14.925079)

[node name="Patient" parent="." unique_id=1818606296 instance=ExtResource("9_6kdt7")]
transform = Transform3D(0.39386168, 0, 0.9191697, 0, 1, 0, -0.9191697, 0, 0.39386168, -11.662716, 0.3911134, -2.9592862)

[node name="Patient2" parent="." unique_id=1558303827 instance=ExtResource("9_6kdt7")]
transform = Transform3D(0.51250756, 0, -0.85868275, 0, 1, 0, 0.85868275, 0, 0.51250756, 8.358257, 0.39111328, -0.9678777)
